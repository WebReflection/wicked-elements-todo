!function(){"use strict";var e=Object.assign;function t(e){return this.matches(e)}var n={Event:CustomEvent,WeakSet:WeakSet},o=document.contains||function(e){for(;e&&e!==this;)e=e.parentNode;return this===e},r=!0,i=[],a=[],c={},s={},d={define:function(e,t){r&&(r=!1,function(e){try{new MutationObserver(h).observe(e,{subtree:!0,childList:!0})}catch(t){e.addEventListener("DOMNodeInserted",function(e){h([{addedNodes:[e.target]}])},!1)}"complete"!==e.readyState&&e.addEventListener("DOMContentLoaded",f,{once:!0})}(document));var n=typeof e;if("string"===n){if(v(e))throw new Error("duplicated: "+e);if(i.push(e),a.push(t||{}),f(),e in c){var o=v(e);o&&(c[e](o),delete c[e])}}else{if("object"!==n||1!==e.nodeType)throw new Error("undefinable: "+e);m(e,t||{})}},get:v,whenDefined:function(e){return Promise.resolve(v(e)||new Promise(function(t){c[e]=t}))}},l=function(e){var t="connected",n="dis"+t,o=e.Event,r=e.WeakSet,i=!0,a=new r;return function(e){return i&&(i=!i,function(e){var i=null;try{new MutationObserver(l).observe(e,{subtree:!0,childList:!0})}catch(t){var c=0,s=[],d=function(e){s.push(e),clearTimeout(c),c=setTimeout(function(){l(s.splice(c=0,s.length))},0)};e.addEventListener("DOMNodeRemoved",function(e){d({addedNodes:[],removedNodes:[e.target]})},!0),e.addEventListener("DOMNodeInserted",function(e){d({addedNodes:[e.target],removedNodes:[]})},!0)}function l(e){i=new v;for(var o,r=e.length,a=0;a<r;a++)u((o=e[a]).removedNodes,n,t),u(o.addedNodes,t,n);i=null}function u(e,t,n){for(var r,i=new o(t),a=e.length,c=0;c<a;1===(r=e[c++]).nodeType&&h(r,i,t,n));}function h(e,t,n,o){a.has(e)&&!i[n].has(e)&&(i[o].delete(e),i[n].add(e),e.dispatchEvent(t));for(var r=e.children||[],c=r.length,s=0;s<c;h(r[s++],t,n,o));}function v(){this[t]=new r,this[n]=new r}}(e.ownerDocument)),a.add(e),e}}(n),u={attributechanged:function(e){var t=e.Event;return function(e,t){var o={attributes:!0,attributeOldValue:!0},a=t instanceof Array&&t.length;a&&(o.attributeFilter=t.slice(0));try{new MutationObserver(r).observe(e,o)}catch(t){o.handleEvent=a?i:n,e.addEventListener("DOMAttrModified",o,!0)}return e};function n(e){o(e.target,e.attrName,e.prevValue)}function o(e,n,o){var r=new t("attributechanged");r.attributeName=n,r.oldValue=o,r.newValue=e.getAttribute(n),e.dispatchEvent(r)}function r(e){for(var t,n=0,r=e.length;n<r;n++)o((t=e[n]).target,t.attributeName,t.oldValue)}function i(e){-1<this.attributeFilter.indexOf(e.attrName)&&n(e)}}(n),connected:l,disconnected:l};function h(e){for(var t=0,n=e.length;t<n;t++)g(e[t].addedNodes,!1)}function v(t){var n=i.indexOf(t);return n<0?null:e({},a[n])}function f(){i.length&&g(document.querySelectorAll(i),!0)}function p(e){g(e.querySelectorAll(i),!0);for(var n,o,r=0,c=i.length;r<c;r++)o=i[r],!(n=s[o]||(s[o]=new WeakSet)).has(e)&&t.call(e,i[r])&&(n.add(e),m(e,a[r]))}function g(e,t){for(var n,o=0,r=e.length;o<r;o++)n=e[o],(t||1===n.nodeType)&&p(n)}function b(e,t,n,r){var i=t["on"+n];i&&(u[n](e,t.attributeFilter).addEventListener(n,i,!1),r&&o.call(document,e)&&e.dispatchEvent(new CustomEvent(n)))}function m(e,t){b(e,t,"attributechanged",!1),b(e,t,"disconnected",!1),b(e,t,"connected",!0)}var y=Object.create,w=Object.defineProperty,E=Object.getOwnPropertyNames,O=Object.getPrototypeOf,N=Object.hasOwnProperty,L=Object.prototype;function S(e,t,n){t in e||w(e,t,{value:n})}function k(e){var t="on"+e.type;t in this&&this[t](e)}function A(e){this.el=e.currentTarget}y(d,{define:{value:function(e,t){var n=new WeakSet,o={onconnected:c},r="function"==typeof t,i=r?t.prototype:t,a=function(e){var t=[];for(;e&&e!==L;){for(var n=E(e),o=0,r=n.length;o<r;){var i=n[o++];"on"===i.slice(0,2)&&"Options"!==i.slice(-7)&&t.push({type:i.slice(2),options:e[i+"Options"]||!1})}e=O(e)}return t}(i);function c(e){var o=e.currentTarget,s=e.type;o.removeEventListener(s,c,!1),n.has(o)||(n.add(o),function(e,t,n,o,r){var i=!1,a=0,c=t.length;for(;a<c;){var s=t[a++];o.addEventListener(s.type,e,s.options),i=i||s.type===r}e.init(n),i&&e.handleEvent(n)}(r?new t:y(i),a,e,o,s))}"ondisconnected"in i&&(o.ondisconnected=c),"onattributechanged"in i&&(o.onattributechanged=c,o.attributeFilter=(r?t.observedAttributes:i.observedAttributes)||i.attributeFilter||[]),S(i,"init",A),S(i,"handleEvent",k),d.define(e,o),N.call(t,"style")&&function(e){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.textContent=e;(document.head||document.querySelector("head")).appendChild(t)}(t.style)}}}).define(".todoapp",{style:"\n    .todo-list.completed li:not(.completed),\n    .todo-list.active li.completed {\n      display: none;\n    }\n  ",init(e){const{currentTarget:t}=e;this.el=t,this.list=t.querySelector(".todo-list")},add(e){const t=document.createElement("li");t.innerHTML='<div class="view">\n      <input class="toggle" type="checkbox">\n      <label></label>\n      <button class="destroy"></button>\n    </div>',t.querySelector("label").textContent=e,this.list.appendChild(t)},clearCompleted(){for(let e=this.list.querySelectorAll("input:checked"),t=0;t<e.length;t++)e[t].closest("li").remove()},toggleAll(e){for(let t=this.list.querySelectorAll("input"),n=0;n<t.length;n++)this.update(t[n],e)},update(e,t){e.checked=t,e.closest("li").classList.toggle("completed",t)},onchange(e){const{target:t}=e;switch(t.className){case"new-todo":this.add(t.value),t.value="";break;case"toggle":this.update(t,t.checked);break;case"toggle-all":this.toggleAll(t.checked)}},onclick(e){const{target:t}=e;switch(t.className){case"clear-completed":this.clearCompleted();break;case"destroy":t.closest("li").remove();break;default:if("A"===t.nodeName&&!t.classList.contains("selected")){this.el.querySelector("a.selected").classList.remove("selected"),t.classList.add("selected"),this.list.classList.remove("active","completed");const e=t.hash.slice(2);e&&this.list.classList.add(e)}}}})}();
