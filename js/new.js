!function(){"use strict";var e=Object.assign;function t(e){return this.matches(e)}var n={Event:CustomEvent,WeakSet:WeakSet},o=document.contains||function(e){for(;e&&e!==this;)e=e.parentNode;return this===e},i=!0,r=[],a=[],c={},s={},d={define:function(e,t){i&&(i=!1,function(e){try{new MutationObserver(h).observe(e,{subtree:!0,childList:!0})}catch(t){e.addEventListener("DOMNodeInserted",function(e){h([{addedNodes:[e.target]}])},!1)}"complete"!==e.readyState&&e.addEventListener("DOMContentLoaded",f,{once:!0})}(document));var n=typeof e;if("string"===n){if(v(e))throw new Error("duplicated: "+e);if(r.push(e),a.push(t||{}),f(),e in c){var o=v(e);o&&(c[e](o),delete c[e])}}else{if("object"!==n||1!==e.nodeType)throw new Error("undefinable: "+e);m(e,t||{})}},get:v,whenDefined:function(e){return Promise.resolve(v(e)||new Promise(function(t){c[e]=t}))}},l=function(e){var t="connected",n="dis"+t,o=e.Event,i=e.WeakSet,r=!0,a=new i;return function(e){return r&&(r=!r,function(e){var r=null;try{new MutationObserver(l).observe(e,{subtree:!0,childList:!0})}catch(t){var c=0,s=[],d=function(e){s.push(e),clearTimeout(c),c=setTimeout(function(){l(s.splice(c=0,s.length))},0)};e.addEventListener("DOMNodeRemoved",function(e){d({addedNodes:[],removedNodes:[e.target]})},!0),e.addEventListener("DOMNodeInserted",function(e){d({addedNodes:[e.target],removedNodes:[]})},!0)}function l(e){r=new v;for(var o,i=e.length,a=0;a<i;a++)u((o=e[a]).removedNodes,n,t),u(o.addedNodes,t,n);r=null}function u(e,t,n){for(var i,r=new o(t),a=e.length,c=0;c<a;1===(i=e[c++]).nodeType&&h(i,r,t,n));}function h(e,t,n,o){a.has(e)&&!r[n].has(e)&&(r[o].delete(e),r[n].add(e),e.dispatchEvent(t));for(var i=e.children||[],c=i.length,s=0;s<c;h(i[s++],t,n,o));}function v(){this[t]=new i,this[n]=new i}}(e.ownerDocument)),a.add(e),e}}(n),u={attributechanged:function(e){var t=e.Event;return function(e,t){var o={attributes:!0,attributeOldValue:!0},a=t instanceof Array&&t.length;a&&(o.attributeFilter=t.slice(0));try{new MutationObserver(i).observe(e,o)}catch(t){o.handleEvent=a?r:n,e.addEventListener("DOMAttrModified",o,!0)}return e};function n(e){o(e.target,e.attrName,e.prevValue)}function o(e,n,o){var i=new t("attributechanged");i.attributeName=n,i.oldValue=o,i.newValue=e.getAttribute(n),e.dispatchEvent(i)}function i(e){for(var t,n=0,i=e.length;n<i;n++)o((t=e[n]).target,t.attributeName,t.oldValue)}function r(e){-1<this.attributeFilter.indexOf(e.attrName)&&n(e)}}(n),connected:l,disconnected:l};function h(e){for(var t=0,n=e.length;t<n;t++)g(e[t].addedNodes,!1)}function v(t){var n=r.indexOf(t);return n<0?null:e({},a[n])}function f(){r.length&&g(document.querySelectorAll(r),!0)}function p(e){g(e.querySelectorAll(r),!0);for(var n,o,i=0,c=r.length;i<c;i++)o=r[i],!(n=s[o]||(s[o]=new WeakSet)).has(e)&&t.call(e,r[i])&&(n.add(e),m(e,a[i]))}function g(e,t){for(var n,o=0,i=e.length;o<i;o++)n=e[o],(t||1===n.nodeType)&&p(n)}function b(e,t,n,i){var r=t["on"+n];r&&(u[n](e,t.attributeFilter).addEventListener(n,r,!1),i&&o.call(document,e)&&e.dispatchEvent(new CustomEvent(n)))}function m(e,t){b(e,t,"attributechanged",!1),b(e,t,"disconnected",!1),b(e,t,"connected",!0)}var y=Object.create,w=Object.defineProperty,E=Object.getOwnPropertyNames,O=Object.getPrototypeOf,N=Object.hasOwnProperty,L=Object.prototype;function S(e,t,n){t in e||w(e,t,{value:n})}function k(e){var t="on"+e.type;t in this&&this[t](e)}function A(e){this.el=e.currentTarget}y(d,{define:{value:function(e,t){var n=new WeakSet,o={onconnected:c},i="function"==typeof t,r=i?t.prototype:t,a=function(e){var t=[];for(;e&&e!==L;){for(var n=E(e),o=0,i=n.length;o<i;){var r=n[o++];"on"===r.slice(0,2)&&"Options"!==r.slice(-7)&&t.push({type:r.slice(2),options:e[r+"Options"]||!1})}e=O(e)}return t}(r);function c(e){var o=e.currentTarget,s=e.type;o.removeEventListener(s,c,!1),n.has(o)||(n.add(o),function(e,t,n,o,i){var r=!1,a=0,c=t.length;for(;a<c;){var s=t[a++];o.addEventListener(s.type,e,s.options),r=r||s.type===i}e.init(n),r&&e.handleEvent(n)}(i?new t:y(r),a,e,o,s))}"ondisconnected"in r&&(o.ondisconnected=c),"onattributechanged"in r&&(o.onattributechanged=c,o.attributeFilter=(i?t.observedAttributes:r.observedAttributes)||r.attributeFilter||[]),S(r,"init",A),S(r,"handleEvent",k),d.define(e,o),N.call(t,"style")&&function(e){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.textContent=e;(document.head||document.querySelector("head")).appendChild(t)}(t.style)}}}).define(".todoapp",{style:"\n    .todo-list.completed li:not(.completed),\n    .todo-list.active li.completed {\n      display: none;\n    }\n  ",init(e){this.el=e.currentTarget,this.list=this.el.querySelector(".todo-list")},add(e){const t=document.createElement("li");t.innerHTML='\n    <div class="view">\n      <input class="toggle" type="checkbox">\n      <label></label>\n      <button class="destroy"></button>\n    </div>',t.querySelector("label").textContent=e,this.list.appendChild(t)},clearCompleted(){for(let e=this.list.querySelectorAll("input:checked"),t=0;t<e.length;t++)e[t].closest("li").remove()},toggleAll(e){for(let t=this.list.querySelectorAll("input"),n=0;n<t.length;n++)this.update(t[n],e)},update(e,t){e.checked=t,e.closest("li").classList.toggle("completed",t)},onchange(e){const{target:t}=e;switch(t.className){case"new-todo":this.add(t.value),t.value="";break;case"toggle":this.update(t,t.checked);break;case"toggle-all":this.toggleAll(t.checked)}},onclick(e){const{target:t}=e;switch(t.className){case"clear-completed":this.clearCompleted();break;case"destroy":t.closest("li").remove();break;default:if("A"===t.nodeName&&!t.classList.contains("selected")){this.el.querySelector("a.selected").classList.remove("selected"),t.classList.add("selected"),this.list.classList.remove("active","completed");const e=t.hash.slice(2);e&&this.list.classList.add(e)}}}})}();
